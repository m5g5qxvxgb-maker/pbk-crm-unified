# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–µ—Ç–æ–∫ –ø—Ä–æ–µ–∫—Ç–∞ PBK CRM

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ 9 –º–æ–¥—É–ª–µ–π, –∫–∞–∂–¥—ã–π –≤ —Å–≤–æ–µ–π –≤–µ—Ç–∫–µ:

## üìã –ú–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã

### 1Ô∏è‚É£ **module/crm-core** - –Ø–¥—Ä–æ CRM
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- Backend API (Node.js + Express)
- Frontend (Next.js + React)
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–¥–∞–º–∏, –∫–ª–∏–µ–Ω—Ç–∞–º–∏, –∑–∞–¥–∞—á–∞–º–∏, –∑–≤–æ–Ω–∫–∞–º–∏
- Kanban –¥–æ—Å–∫–∞ —Å pipeline

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `/backend/` - API –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- `/frontend/` - React –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `/backend/src/database/` - –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å—Ö–µ–º—ã –ë–î

---

### 2Ô∏è‚É£ **module/bots** - Fixly & Offerteo –±–æ—Ç—ã
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω, –Ω—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- Fixly bot - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞—è–≤–∫–∏ –Ω–∞ —Ä–µ–º–æ–Ω—Ç
- Offerteo bot - —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ–Ω–¥–µ—Ä—ã
- Puppeteer –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `/opt/fixly-automation/scripts/fixly-bot.js`
- `/root/offerteo-bot/offerteo-automation.js`
- `/root/offerteo-bot/manual-login.js`

**Webhooks:**
- POST `/api/webhooks/fixly` - —Å–æ–∑–¥–∞–µ—Ç –ª–∏–¥
- POST `/api/webhooks/offerteo` - —Å–æ–∑–¥–∞–µ—Ç –ª–∏–¥

---

### 3Ô∏è‚É£ **module/telegram** - Telegram –±–æ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- Telegram –±–æ—Ç @Pbkauto_bot
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –ª–∏–¥–∞—Ö
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- Callback handlers (–∑–≤–æ–Ω–∫–∏, –∑–∞–¥–∞—á–∏, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ)

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `/backend/src/integrations/unified-integration-manager.js`
- `/backend/src/utils/telegram-notifier.js`
- Container: `pbk-integrations`

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```
TELEGRAM_BOT_TOKEN=8003573668:AAHHs6GUJx-pUEL-fxe_lwVJCRutftrCZ30
TELEGRAM_OWNER_CHAT_ID=443876287
TELEGRAM_SALES_GROUP=-5088238645
```

---

### 4Ô∏è‚É£ **module/retell-ai** - Retell AI –∑–≤–æ–Ω–∫–∏
**–°—Ç–∞—Ç—É—Å:** ‚öôÔ∏è API –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –Ω—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- Retell AI API –¥–ª—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∑–≤–æ–Ω–∫–æ–≤
- Webhook –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM leads

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `/backend/src/api/retell.js`

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```
RETELL_API_KEY=...
RETELL_AGENT_ID=...
```

---

### 5Ô∏è‚É£ **module/ai-assistant** - AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- OpenRouter API (Nvidia Nemotron)
- Endpoint `/api/ai/copilot`
- –ö–æ–Ω—Ç–µ–∫—Å—Ç CRM –¥–∞–Ω–Ω—ã—Ö

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `/backend/src/routes/ai.js`

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```
OPENROUTER_API_KEY=...
OPENROUTER_MODEL=nvidia/nemotron-nano-9b-v2:free
```

---

### 6Ô∏è‚É£ **module/erp** - ERP —Å–∏—Å—Ç–µ–º–∞
**–°—Ç–∞—Ç—É—Å:** üîÆ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —É—á–µ—Ç
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏
- –°–∫–ª–∞–¥ –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
- –û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å

---

### 7Ô∏è‚É£ **module/website** - –í–µ–±-—Å–∞–π—Ç
**–°—Ç–∞—Ç—É—Å:** üîÆ –¢—Ä–µ–±—É–µ—Ç —Ä–µ–¥–∏–∑–∞–π–Ω–∞  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –ü—É–±–ª–∏—á–Ω—ã–π —Å–∞–π—Ç –∫–æ–º–ø–∞–Ω–∏–∏
- –§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏
- –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ –ø—Ä–æ–µ–∫—Ç–æ–≤
- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

---

### 8Ô∏è‚É£ **module/email** - Email —Å–µ—Ä–≤–∏—Å
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è API –µ—Å—Ç—å, SMTP –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –û—Ç–ø—Ä–∞–≤–∫–∞ email
- Email —à–∞–±–ª–æ–Ω—ã
- IMAP –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–∏—Å–µ–º
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –ª–∏–¥–∞–º

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `/backend/src/api/emails.js`

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å):**
```
SMTP_HOST=
SMTP_PORT=
SMTP_USER=
SMTP_PASS=
```

---

### 9Ô∏è‚É£ **module/ai-proposals** - AI –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
**–°—Ç–∞—Ç—É—Å:** ‚öôÔ∏è –ë–î –≥–æ—Ç–æ–≤–∞, –Ω—É–∂–Ω–∞ –ª–æ–≥–∏–∫–∞  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- AI –∞–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- PDF —ç–∫—Å–ø–æ—Ä—Ç
- –®–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `/backend/src/api/proposals.js`

**–¢–∞–±–ª–∏—Ü–∞ –ë–î:**
```sql
CREATE TABLE ai_proposals (
  id UUID PRIMARY KEY,
  lead_id UUID REFERENCES leads(id),
  title VARCHAR(500),
  content TEXT,
  status VARCHAR(50),
  created_at TIMESTAMP
);
```

---

## üîÑ Workflow –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏

```
Fixly/Offerteo Bot (2)
    ‚Üì
Webhook ‚Üí CRM Core (1)
    ‚Üì
Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (3)
    ‚Üì
–ú–µ–Ω–µ–¥–∂–µ—Ä ‚Üí –ó–∞–¥–∞—á–∞/–ó–≤–æ–Ω–æ–∫
    ‚Üì
Retell AI –∑–≤–æ–Ω–æ–∫ (4) –∏–ª–∏ Email (8)
    ‚Üì
AI Assistant –ø–æ–º–æ—â—å (5)
    ‚Üì
AI Proposal –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (9)
    ‚Üì
ERP –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ (6)
```

---

## üìä –¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- [x] CRM Core - —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Telegram Bot - —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] AI Assistant - —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Webhook integration - —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Fixly/Offerteo ‚Üí CRM –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- [ ] Retell AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] Email —Å–µ—Ä–≤–∏—Å
- [ ] AI Proposals
- [ ] ERP –º–æ–¥—É–ª—å
- [ ] Website —Ä–µ–¥–∏–∑–∞–π–Ω

---

## üöÄ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–µ—Ç–∫–∞–º–∏

### –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –≤–µ—Ç–∫—É –º–æ–¥—É–ª—è:
```bash
cd /root/pbk-crm-unified
git checkout module/telegram
```

### –°–æ–∑–¥–∞—Ç—å feature –≤ —Ä–∞–º–∫–∞—Ö –º–æ–¥—É–ª—è:
```bash
git checkout module/telegram
git checkout -b feature/telegram-voice-messages
```

### –°–ª–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ master:
```bash
git checkout master
git merge module/telegram
```

---

## üìù –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã

1. **–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å** - –æ—Ç–¥–µ–ª—å–Ω–∞—è –≤–µ—Ç–∫–∞
2. **Feature –≤–µ—Ç–∫–∏** —Å–æ–∑–¥–∞—é—Ç—Å—è –æ—Ç module/xxx
3. **–¢–µ—Å—Ç–∏—Ä—É–µ–º** –≤ —Å–≤–æ–µ–π –≤–µ—Ç–∫–µ
4. **Merge –≤ master** —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—á–∏–π –∫–æ–¥
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ–º** –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ README –º–æ–¥—É–ª—è

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-06  
**–ê–≤—Ç–æ—Ä:** Yugen Ostrov (@yostrov)
